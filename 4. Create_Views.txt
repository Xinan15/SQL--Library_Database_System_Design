

-- Keep tracking on popular resourses

CREATE VIEW Popularity_Ranking AS 
SELECT ITEM_NAME, COUNT(*) AS Cumulative_Borrowings
FROM LOAN_INFO
GROUP BY ITEM_NAME
ORDER BY COUNT(*) DESC;


-- For checking borrowing history

CREATE VIEW B_HISTORY AS
SELECT MEMBER.MEMBER_ID,MEMBER.MEMBER_NAME,LOAN_INFO.ITEM_NAMEï¼ŒLOAN_INFO.LENDING_DATE ,LOAN_INFO.DUE_DATE,LOAN_INFO.RETURN_DATE
FROM MEMBER,LOAN_INFO
WHERE MEMBER.MEMBER_ID = LOAN_INFO.MEMBER_ID AND MEMBER_NAME = 'Alexander Buchanan';

-- For checking books that are in store, and locate the books

CREATE VIEW BOOKS_IN_STORE AS 
SELECT ITEM_INFO.ITEM_ID,ITEM_INFO.ITEM_NAME,ITEM_INV.ITEM_TYPE,ITEM_INFO.ITEM_STATE,ITEM_LOC.FLOOR_NUM,ITEM_LOC.SHELF_NUM,ITEM_LOC.CLASS_NUM
FROM ITEM_INFO,ITEM_INV,ITEM_LOC
WHERE ITEM_INFO.ITEM_STATE = 'In stock' and ITEM_INFO.ITEM_NAME = ITEM_INV.ITEM_NAME AND ITEM_INV.ITEM_TYPE='Books' AND ITEM_INFO.ITEM_NAME = ITEM_LOC.ITEM_NAME;

-- For checking people who has been suspended

CREATE VIEW Blacklist AS
SELECT * 
FROM ACCOUNT
WHERE STATE = 'Suspended';
